# Railway å¿«é€Ÿä¿®å¾©æŒ‡å—

## ğŸ¯ å•é¡Œï¼šæ‰¾ä¸åˆ° Root Directory è¨­ç½®

Railway çš„ç•Œé¢å¯èƒ½ä¸åŒï¼Œæˆ‘å·²ç¶“å‰µå»ºäº†é…ç½®æ–‡ä»¶ä¾†è‡ªå‹•è¨­ç½®ã€‚

## âœ… è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆå·²è‡ªå‹•è¨­ç½®ï¼‰

æˆ‘å·²ç¶“åœ¨é …ç›®æ ¹ç›®éŒ„å‰µå»ºäº† `railway.toml` æ–‡ä»¶ï¼ŒRailway æœƒè‡ªå‹•è®€å–å®ƒã€‚

### æ–‡ä»¶ä½ç½®
- `railway.toml`ï¼ˆé …ç›®æ ¹ç›®éŒ„ï¼‰âœ… å·²å‰µå»º
- `backend/nixpacks.toml`ï¼ˆå¾Œç«¯ç›®éŒ„ï¼‰âœ… å·²å‰µå»º

## ğŸš€ ç¾åœ¨è«‹é€™æ¨£åš

### æ­¥é©Ÿ 1ï¼šé‡æ–°éƒ¨ç½²
1. åœ¨ Railway Dashboard ä¸­
2. é€²å…¥ä½ çš„æœå‹™
3. é»æ“Š **Deployments** â†’ **Redeploy**
4. æˆ–ç­‰å¾…è‡ªå‹•è§¸ç™¼æ–°éƒ¨ç½²ï¼ˆå› ç‚ºæˆ‘å€‘æ¨é€äº†æ–°ä»£ç¢¼ï¼‰

### æ­¥é©Ÿ 2ï¼šæª¢æŸ¥æ§‹å»ºæ—¥èªŒ
1. é»æ“Š **View logs** æŸ¥çœ‹æ§‹å»ºéç¨‹
2. ç¢ºèªæ˜¯å¦æˆåŠŸ

## ğŸ” å¦‚æœé‚„æ˜¯ä¸è¡Œï¼šä½¿ç”¨ Railway CLIï¼ˆæœ€å¯é ï¼‰

### å®‰è£ Railway CLI
```bash
npm install -g @railway/cli
```

### ç™»å…¥
```bash
railway login
```

### éƒ¨ç½²ï¼ˆåœ¨ backend ç›®éŒ„ä¸‹ï¼‰
```bash
# é€²å…¥ backend ç›®éŒ„
cd backend

# åˆå§‹åŒ– Railwayï¼ˆæœƒè‡ªå‹•æª¢æ¸¬ç•¶å‰ç›®éŒ„ï¼‰
railway init

# é¸æ“‡ä½ çš„é …ç›®ï¼Œæˆ–å‰µå»ºæ–°é …ç›®

# è¨­ç½®ç’°å¢ƒè®Šé‡
railway variables set JWT_SECRET="your-secret-key-here"
railway variables set CORS_ORIGIN="http://localhost:5173,https://votepractice.netlify.app"
railway variables set NODE_ENV="production"

# æ·»åŠ  PostgreSQL æ•¸æ“šåº«ï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
railway add postgres

# éƒ¨ç½²
railway up
```

é€™æ¨£ Railway CLI æœƒè‡ªå‹•ä½¿ç”¨ `backend` ç›®éŒ„ä½œç‚ºæ ¹ç›®éŒ„ï¼Œä¸éœ€è¦æ‰‹å‹•è¨­ç½®ã€‚

## ğŸ“ å·²å‰µå»ºçš„é…ç½®æ–‡ä»¶

1. **`railway.toml`**ï¼ˆé …ç›®æ ¹ç›®éŒ„ï¼‰
   - å‘Šè¨´ Railway å·¥ä½œç›®éŒ„æ˜¯ `backend`

2. **`backend/nixpacks.toml`**
   - æ§‹å»ºé…ç½®ï¼ŒåŒ…å«æ§‹å»ºå‘½ä»¤

3. **`backend/Procfile`**
   - å•Ÿå‹•å‘½ä»¤é…ç½®

## âš ï¸ é‡è¦æç¤º

å¦‚æœä½¿ç”¨ç¶²é ç•Œé¢éƒ¨ç½²ï¼š
- Railway æœƒè‡ªå‹•è®€å– `railway.toml` æ–‡ä»¶
- å¦‚æœé‚„æ˜¯æœ‰å•é¡Œï¼Œå»ºè­°ä½¿ç”¨ Railway CLIï¼ˆæ›´å¯é ï¼‰

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **å…ˆè©¦è©¦é‡æ–°éƒ¨ç½²**ï¼ˆä½¿ç”¨ `railway.toml`ï¼‰
2. **å¦‚æœé‚„æ˜¯ä¸è¡Œï¼Œä½¿ç”¨ Railway CLI**ï¼ˆæœ€å¯é çš„æ–¹æ³•ï¼‰

å‘Šè¨´æˆ‘çµæœå¦‚ä½•ï¼
