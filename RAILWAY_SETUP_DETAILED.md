# Railway è©³ç´°è¨­ç½®æŒ‡å—

## ğŸ” æ‰¾ä¸åˆ° Root Directory è¨­ç½®ï¼Ÿ

### æ–¹æ³• 1ï¼šåœ¨æœå‹™å‰µå»ºæ™‚è¨­ç½®

1. **å‰µå»ºæ–°æœå‹™æ™‚**
   - é»æ“Š **+ New** â†’ **GitHub Repo**
   - é¸æ“‡ä½ çš„å€‰åº«å¾Œ
   - åœ¨æœå‹™å‰µå»ºé é¢ï¼Œæ‡‰è©²èƒ½çœ‹åˆ° **Settings** æˆ– **Configure** é¸é …
   - æŸ¥æ‰¾ **Root Directory** æˆ– **Working Directory**

### æ–¹æ³• 2ï¼šåœ¨æœå‹™è¨­ç½®ä¸­æŸ¥æ‰¾

Railway çš„ç•Œé¢å¯èƒ½å› ç‰ˆæœ¬è€Œç•°ï¼Œå˜—è©¦ä»¥ä¸‹ä½ç½®ï¼š

1. **é€²å…¥æœå‹™å¾Œ**
   - é»æ“Šä½ çš„æœå‹™ï¼ˆæ‡‰ç”¨æœå‹™ï¼Œä¸æ˜¯æ•¸æ“šåº«æœå‹™ï¼‰
   - æŸ¥æ‰¾ä»¥ä¸‹æ¨™ç±¤ï¼š
     - **Settings** â†’ **Source** â†’ **Root Directory**
     - **Settings** â†’ **General** â†’ **Root Directory**
     - **Variables** æ—é‚Šå¯èƒ½æœ‰ **Settings** æŒ‰éˆ•
     - æˆ–è€…ç›´æ¥é»æ“Šæœå‹™åç¨±æ—é‚Šçš„ **âš™ï¸** åœ–æ¨™

2. **å¦‚æœæ‰¾ä¸åˆ° Settings**
   - å˜—è©¦é»æ“Šæœå‹™å¡ç‰‡ä¸Šçš„ **ä¸‰å€‹é»ï¼ˆâ‹¯ï¼‰** æˆ– **æ›´å¤šé¸é …**
   - æŸ¥æ‰¾ **Settings** æˆ– **Configure**

### æ–¹æ³• 3ï¼šä½¿ç”¨ Railway CLIï¼ˆæ¨è–¦ï¼Œæ›´ç°¡å–®ï¼‰

å¦‚æœç¶²é ç•Œé¢æ‰¾ä¸åˆ°ï¼Œä½¿ç”¨å‘½ä»¤è¡Œè¨­ç½®ï¼š

```bash
# å®‰è£ Railway CLI
npm install -g @railway/cli

# ç™»å…¥
railway login

# é€²å…¥é …ç›®ç›®éŒ„
cd backend

# åˆå§‹åŒ– Railway é …ç›®
railway init

# é¸æ“‡ä½ çš„é …ç›®å’Œæœå‹™

# è¨­ç½®æ ¹ç›®éŒ„ï¼ˆå¦‚æœéœ€è¦çš„è©±ï¼‰
# Railway CLI æœƒè‡ªå‹•æª¢æ¸¬ç•¶å‰ç›®éŒ„
```

### æ–¹æ³• 4ï¼šé‡æ–°å‰µå»ºæœå‹™ä¸¦æ˜ç¢ºè¨­ç½®

1. **åˆªé™¤ç¾æœ‰æœå‹™**ï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰
   - é»æ“Šæœå‹™ â†’ **Settings** â†’ **Delete Service**

2. **é‡æ–°å‰µå»ºæœå‹™**
   - é»æ“Š **+ New** â†’ **GitHub Repo**
   - é¸æ“‡ `Harveylin0316/vote`
   - **åœ¨å‰µå»ºéç¨‹ä¸­**ï¼ŒæŸ¥æ‰¾é…ç½®é¸é …
   - æˆ–è€…å‰µå»ºå¾Œç«‹å³é€²å…¥è¨­ç½®

### æ–¹æ³• 5ï¼šæª¢æŸ¥æœå‹™é¡å‹

ç¢ºèªä½ å‰µå»ºçš„æ˜¯ **Web Service** è€Œä¸æ˜¯å…¶ä»–é¡å‹çš„æœå‹™ï¼š
- âœ… **Web Service**ï¼ˆæ­£ç¢ºï¼‰
- âŒ **Database**ï¼ˆé€™æ˜¯æ•¸æ“šåº«æœå‹™ï¼‰
- âŒ **Cron Job**ï¼ˆé€™æ˜¯å®šæ™‚ä»»å‹™ï¼‰

## ğŸ¯ æ›¿ä»£æ–¹æ¡ˆï¼šä½¿ç”¨ nixpacks.toml

å¦‚æœæ‰¾ä¸åˆ° Root Directory è¨­ç½®ï¼Œ`nixpacks.toml` æ–‡ä»¶æ‡‰è©²èƒ½è®“ Railway è‡ªå‹•æª¢æ¸¬ã€‚

**ç¢ºèª `backend/nixpacks.toml` å­˜åœ¨**ï¼š
- æ–‡ä»¶è·¯å¾‘ï¼š`backend/nixpacks.toml`
- å…§å®¹æ‡‰è©²åŒ…å«æ§‹å»ºå‘½ä»¤

## ğŸ“¸ è¦–è¦ºæŒ‡å¼•

### Railway Dashboard çµæ§‹ï¼š
```
Railway Dashboard
â”œâ”€â”€ Projects
â”‚   â””â”€â”€ Your Project
â”‚       â”œâ”€â”€ PostgreSQL (æ•¸æ“šåº«æœå‹™)
â”‚       â””â”€â”€ Your App Service (æ‡‰ç”¨æœå‹™) â† é»æ“Šé€™å€‹
â”‚           â”œâ”€â”€ Deployments
â”‚           â”œâ”€â”€ Metrics
â”‚           â”œâ”€â”€ Variables
â”‚           â””â”€â”€ Settings â† é»æ“Šé€™è£¡
â”‚               â”œâ”€â”€ Source
â”‚               â”‚   â””â”€â”€ Root Directory â† åœ¨é€™è£¡è¨­ç½®
â”‚               â”œâ”€â”€ Deploy
â”‚               â””â”€â”€ Networking
```

## ğŸ”§ å¦‚æœå®Œå…¨æ‰¾ä¸åˆ°è¨­ç½®

### æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Railway CLI éƒ¨ç½²

```bash
# 1. å®‰è£ CLI
npm install -g @railway/cli

# 2. ç™»å…¥
railway login

# 3. é€²å…¥ backend ç›®éŒ„
cd backend

# 4. åˆå§‹åŒ–ï¼ˆæœƒè‡ªå‹•æª¢æ¸¬ç•¶å‰ç›®éŒ„ç‚ºæ ¹ç›®éŒ„ï¼‰
railway init

# 5. é¸æ“‡é …ç›®å’Œæœå‹™ï¼Œæˆ–å‰µå»ºæ–°çš„

# 6. è¨­ç½®ç’°å¢ƒè®Šé‡
railway variables set JWT_SECRET="your-secret-key"
railway variables set CORS_ORIGIN="http://localhost:5173,https://votepractice.netlify.app"
railway variables set NODE_ENV="production"

# 7. æ·»åŠ æ•¸æ“šåº«ï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
railway add postgres

# 8. éƒ¨ç½²
railway up
```

### æ–¹æ¡ˆ Bï¼šæª¢æŸ¥ Railway ç‰ˆæœ¬

Railway å¯èƒ½æ›´æ–°äº†ç•Œé¢ï¼š
1. å˜—è©¦åˆ·æ–°é é¢ï¼ˆCtrl+F5 æˆ– Cmd+Shift+Rï¼‰
2. æª¢æŸ¥æ˜¯å¦æœ‰æ›´æ–°æç¤º
3. æŸ¥çœ‹ Railway æ–‡æª”ï¼šhttps://docs.railway.app

## ğŸ’¡ å¿«é€Ÿæª¢æŸ¥

è«‹å‘Šè¨´æˆ‘ï¼š
1. ä½ ç¾åœ¨åœ¨ Railway Dashboard çš„å“ªå€‹é é¢ï¼Ÿ
2. é»æ“Šæœå‹™å¾Œèƒ½çœ‹åˆ°å“ªäº›é¸é …ï¼Ÿ
3. æœ‰æ²’æœ‰çœ‹åˆ° **Settings**ã€**Configure**ã€**âš™ï¸** åœ–æ¨™ï¼Ÿ

æˆ‘å¯ä»¥æ ¹æ“šä½ çš„å…·é«”æƒ…æ³æä¾›æ›´ç²¾ç¢ºçš„æŒ‡å°ã€‚
